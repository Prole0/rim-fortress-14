- type: entityTable
  id: BasicWorldRulesTable
  table: !type:AllSelector
    children:
      - id: PopMigration

      # Animal migration
      # Neutral
      - id: CatMigration
      - id: PossumMigration
      - id: FoxMigration
      - id: CrabMigration
      - id: GoatMigration
      - id: CowMigration
      - id: FerretMigration
      - id: FrogMigration
      - id: FrogMigration
      - id: GooseMigration
      - id: HamsterMigration
      - id: KangarooMigration
      - id: MonkeyMigration
      - id: MothroachMigration
      - id: ParrotMigration
      - id: RaccoonMigration
      - id: SnakeMigration
      # Hostile
      - id: SlimeMigration
      - id: SpiderMigration
      - id: OreCrabMigration

      # Raids
      - id: Raid

- type: entity
  id: BaseMigrationRule
  abstract: true
  components:
    - type: WorldRule
      delay:
        min: 300 #5 min
        max: 600 #10 min
      startOffset: 300 #5 min
      threshold: -0.7
    - type: MigrationRule

- type: entity
  id: RareMigrationRule
  abstract: true
  components:
    - type: WorldRule
      delay:
        min: 300 #5 min
        max: 600 #10 min
      startOffset: 600 #5 min
      threshold: 0
    - type: MigrationRule

- type: entity
  id: GrasslandMigrationRule
  abstract: true
  components:
    - type: WorldRule
      delay:
        min: 300 #5 min
        max: 600 #10 min
      startOffset: 300 #5 min
      requiredBiomes:
        - RfGrassland
    - type: MigrationRule

- type: entity
  id: DesertMigrationRule
  abstract: true
  components:
    - type: WorldRule
      delay:
        min: 300 #5 min
        max: 600 #10 min
      startOffset: 300 #5 min
      requiredBiomes:
        - RfLowDesert
    - type: MigrationRule

- type: entity
  id: PopMigration
  components:
    - type: WorldRule
      delay:
        min: 600 #10 min
        max: 1800 #30 min
      startOffset: 600 #10 min
      threshold: 0.4
    - type: MigrationRule
      spawn: [ RimFortressMobPop ]
      addToPops: true

# Animals migration
# Neutral

- type: entity
  id: CatMigration
  parent: BaseMigrationRule
  components:
    - type: MigrationRule
      spawn:
      - MobCatRuntime
      - MobCatException
      - MobCatFloppa
      - MobBingus
      amount:
        min: 4
        max: 6

- type: entity
  id: PossumMigration
  parent: BaseMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobPossumMorty ]
      amount:
        min: 3
        max: 5

- type: entity
  id: FoxMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobFoxRenault ]
      amount:
        min: 2
        max: 4

- type: entity
  id: CrabMigration
  parent: DesertMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobCrabAtmos ]
      amount:
        min: 3
        max: 4

- type: entity
  id: GoatMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobGoat ]
      amount:
        min: 2
        max: 4

- type: entity
  id: CowMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobCow ]
      amount:
        min: 1
        max: 3

- type: entity
  id: FerretMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobFerret ]
      amount:
        min: 2
        max: 4

- type: entity
  id: FrogMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobFrog ]
      amount:
        min: 6
        max: 10

- type: entity
  id: GooseMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobGoose ]
      amount:
        min: 2
        max: 4

- type: entity
  id: HamsterMigration
  parent: BaseMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobHamster ]
      amount:
        min: 5
        max: 10

- type: entity
  id: KangarooMigration
  parent: DesertMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobKangaroo ]
      amount:
        min: 2
        max: 3

- type: entity
  id: MonkeyMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobMonkey ]
      amount:
        min: 4
        max: 7

- type: entity
  id: MothroachMigration
  parent: RareMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobMothroach ]
      amount:
        min: 4
        max: 8

- type: entity
  id: ParrotMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobParrot ]
      amount:
        min: 2
        max: 5

- type: entity
  id: RaccoonMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobRaccoon ]
      amount:
        min: 2
        max: 4

- type: entity
  id: SnakeMigration
  parent: GrasslandMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobSnake ]
      amount:
        min: 3
        max: 5

# Hostile

- type: entity
  id: SlimeMigration
  parent: RareMigrationRule
  components:
    - type: MigrationRule
      spawn:
      - MobSlimesPet
      - MobAdultSlimesBlue
      - MobAdultSlimesBlueAngry
      - MobAdultSlimesGreen
      - MobAdultSlimesGreenAngry
      - MobAdultSlimesYellow
      - MobAdultSlimesYellowAngry
      amount:
        min: 3
        max: 6

- type: entity
  id: SpiderMigration
  parent: RareMigrationRule
  components:
    - type: MigrationRule
      spawn: [ MobGiantSpiderAngry ]
      amount:
        min: 1
        max: 3

- type: entity
  id: OreCrabMigration
  parent: RareMigrationRule
  components:
    - type: MigrationRule
      spawn:
        - MobIronCrab
        - MobQuartzCrab
        - MobSilverCrab
        - MobUraniumCrab
        - MobCoalCrab
        - MobGoldCrab
      amount:
        min: 3
        max: 6

# Raids
- type: entity
  id: Raid
  components:
    - type: WorldRule
      delay:
        min: 300 #5 min
        max: 900 #15 min
      startOffset: 900 #15 min
      threshold: 0
    - type: MigrationRule
      spawn:
        - Raider
      amount:
        min: 1
        max: 3
      task: Raid
